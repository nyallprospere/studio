/**
 * @fileoverview Firestore Security Rules for the Revolucianize application.
 *
 * Core Philosophy:
 * This ruleset prioritizes security by enforcing strict access control, especially for write operations.
 * In this prototyping phase, data validation is relaxed to facilitate rapid development, focusing instead on authorization.
 *
 * Data Structure:
 * The Firestore database is organized into a flat structure of top-level collections, such as 'candidates', 'parties', etc.
 * Subcollections are used for nested data like 'comments' under 'news articles'.
 *
 * Key Security Decisions:
 * - Public Read Access for Some Collections: Collections like 'candidates', 'parties', and 'news' are readable by anyone. However, write access is restricted.
 * - Write Access Restrictions: Write access (create, update, delete) is generally disallowed unless explicitly granted.
 * - No User-Specific Data Trees: This version does not implement user-specific data trees or ownership models.
 *
 * Authorization Denormalization:
 * This ruleset does not use data denormalization.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Anyone can read mailing list subscribers; no one can create, update, or delete them.
     * @path /mailing_list_subscribers/{subscriberId}
     * @allow get, list: if true;
     * @deny create, update, delete: if false;
     * @principle Public read access.
     */
    match /mailing_list_subscribers/{subscriberId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Anyone can read parties; no one can create, update, or delete them.
     * @path /parties/{partyId}
     * @allow get, list: if true;
     * @deny create, update, delete: if false;
     * @principle Public read access.
     */
    match /parties/{partyId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Anyone can read party logos; no one can create, update, or delete them.
     * @path /party_logos/{partyLogoId}
     * @allow get, list: if true;
     * @deny create, update, delete: if false;
     * @principle Public read access.
     */
    match /party_logos/{partyLogoId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Anyone can read events; no one can create, update, or delete them.
     * @path /events/{eventId}
     * @allow get, list: if true;
     * @deny create, update, delete: if false;
     * @principle Public read access.
     */
    match /events/{eventId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Anyone can read candidates; no one can create, update, or delete them.
     * @path /candidates/{candidateId}
     * @allow get, list: if true;
     * @deny create, update, delete: if false;
     * @principle Public read access.
     */
    match /candidates/{candidateId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Anyone can read archived candidates; no one can create, update, or delete them.
     * @path /archived_candidates/{archivedCandidateId}
     * @allow get, list: if true;
     * @deny create, update, delete: if false;
     * @principle Public read access.
     */
    match /archived_candidates/{archivedCandidateId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Anyone can read elections; no one can create, update, or delete them.
     * @path /elections/{electionId}
     * @allow get, list: if true;
     * @deny create, update, delete: if false;
     * @principle Public read access.
     */
    match /elections/{electionId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Anyone can read polling data; no one can create, update, or delete them.
     * @path /polling_data/{pollingDataId}
     * @allow get, list: if true;
     * @deny create, update, delete: if false;
     * @principle Public read access.
     */
    match /polling_data/{pollingDataId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Anyone can read constituencies; no one can create, update, or delete them.
     * @path /constituencies/{constituencyId}
     * @allow get, list: if true;
     * @deny create, update, delete: if false;
     * @principle Public read access.
     */
    match /constituencies/{constituencyId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Anyone can read election results; no one can create, update, or delete them.
     * @path /election_results/{electionResultId}
     * @allow get, list: if true;
     * @deny create, update, delete: if false;
     * @principle Public read access.
     */
    match /election_results/{electionResultId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Anyone can read page layouts; no one can create, update, or delete them.
     * @path /settings/pageLayouts
     * @allow get: if true;
     * @deny list, create, update, delete: if false;
     * @principle Public read access.
     */
    match /settings/pageLayouts {
      allow get: if true;
      allow list, create, update, delete: if false;
    }

    /**
     * @description Anyone can read site settings; no one can create, update, or delete them.
     * @path /settings/site
     * @allow get: if true;
     * @deny list, create, update, delete: if false;
     * @principle Public read access.
     */
    match /settings/site {
      allow get: if true;
      allow list, create, update, delete: if false;
    }

    /**
     * @description Anyone can read user activity; no one can create, update, or delete them.
     * @path /user_activity/{activityId}
     * @allow get, list: if true;
     * @deny create, update, delete: if false;
     * @principle Public read access.
     */
    match /user_activity/{activityId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Anyone can read regions; no one can create, update, or delete them.
     * @path /regions/{regionId}
     * @allow get, list: if true;
     * @deny create, update, delete: if false;
     * @principle Public read access.
     */
    match /regions/{regionId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Anyone can read user maps; no one can create, update, or delete them.
     * @path /user_maps/{userMapId}
     * @allow get, list: if true;
     * @deny create, update, delete: if false;
     * @principle Public read access.
     */
    match /user_maps/{userMapId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Anyone can read ads; no one can create, update, or delete them.
     * @path /ads/{adId}
     * @allow get, list: if true;
     * @deny create, update, delete: if false;
     * @principle Public read access.
     */
    match /ads/{adId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Anyone can read news articles; no one can create, update, or delete them.
     * @path /news/{newsId}
     * @allow get, list: if true;
     * @deny create, update, delete: if false;
     * @principle Public read access.
     */
    match /news/{newsId} {
      allow get, list: if true;
      allow create, update, delete: if false;

        /**
         * @description Anyone can read news article comments; no one can create, update, or delete them.
         * @path /news/{newsId}/comments/{commentId}
         * @allow get, list: if true;
         * @deny create, update, delete: if false;
         * @principle Public read access.
         */
        match /comments/{commentId} {
          allow get, list: if true;
          allow create, update, delete: if false;
        }
    }

    /**
     * @description Anyone can read reports; no one can create, update, or delete them.
     * @path /reports/{reportId}
     * @allow get, list: if true;
     * @deny create, update, delete: if false;
     * @principle Public read access.
     */
    match /reports/{reportId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }
  }
}