
{
  "entities": {
    "MailingListSubscriber": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Mailing List Subscriber",
      "type": "object",
      "description": "Represents a subscriber to the mailing list.",
      "properties": {
        "firstName": {
          "type": "string",
          "description": "The subscriber's first name."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The subscriber's email address."
        },
        "subscribedAt": {
          "type": "string",
          "format": "date-time",
          "description": "The date and time the user subscribed."
        }
      },
      "required": [
        "email",
        "subscribedAt"
      ]
    },
    "Candidate": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Candidate",
      "type": "object",
      "description": "Represents a candidate running for election.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the candidate."
        },
        "partyId": {
          "type": "string",
          "description": "Reference to the political party the candidate belongs to. (Relationship: Party 1:N Candidate)"
        },
        "constituencyId": {
          "type": "string",
          "description": "Reference to the constituency the candidate is running in. (Relationship: Constituency 1:N Candidate)"
        },
        "name": {
          "type": "string",
          "description": "The candidate's full name."
        },
        "bio": {
          "type": "string",
          "description": "A short biography of the candidate."
        },
        "policyPositions": {
          "type": "string",
          "description": "The candidate's stances on key policy issues."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL to the candidate's image.",
          "format": "uri"
        }
      },
      "required": [
        "id",
        "partyId",
        "constituencyId",
        "name"
      ]
    },
    "ArchivedCandidate": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Archived Candidate",
      "type": "object",
      "description": "Represents a candidate that has been archived from a previous election cycle.",
      "properties": {
        "originalId": {
          "type": "string",
          "description": "The original unique identifier for the candidate."
        },
        "partyId": {
          "type": "string",
          "description": "Reference to the political party the candidate belongs to."
        },
        "constituencyId": {
          "type": "string",
          "description": "Reference to the constituency the candidate was running in."
        },
        "name": {
          "type": "string",
          "description": "The candidate's full name."
        },
        "bio": {
          "type": "string",
          "description": "A short biography of the candidate."
        },
        "policyPositions": {
          "type": "string",
          "description": "The candidate's stances on key policy issues."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL to the candidate's image.",
          "format": "uri"
        },
        "archiveDate": {
          "type": "string",
          "format": "date-time",
          "description": "The date and time the candidate was archived."
        },
        "electionId": {
          "type": "string",
          "description": "The ID of the election this candidate was archived from."
        }
      },
      "required": [
        "originalId",
        "partyId",
        "constituencyId",
        "name",
        "archiveDate",
        "electionId"
      ]
    },
    "Party": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Party",
      "type": "object",
      "description": "Represents a political party.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the party."
        },
        "name": {
          "type": "string",
          "description": "The name of the political party."
        },
        "logoUrl": {
          "type": "string",
          "description": "URL to the party's logo.",
          "format": "uri"
        },
        "description": {
          "type": "string",
          "description": "A description of the party's platform and ideology."
        },
        "website": {
          "type": "string",
          "format": "uri",
          "description": "The party's official website."
        },
        "history": {
          "type": "string",
          "description": "A detailed history of the party."
        },
        "expandedLogoUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL to the party's expanded logo."
        }
      },
      "required": [
        "id",
        "name"
      ]
    },
    "PartyLogo": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Party Logo",
      "type": "object",
      "description": "Represents a party's logo for a specific election.",
      "properties": {
        "partyId": {
          "type": "string"
        },
        "electionId": {
          "type": "string"
        },
        "logoUrl": {
          "type": "string",
          "format": "uri"
        },
        "expandedLogoUrl": {
          "type": "string",
          "format": "uri"
        }
      },
      "required": [
        "partyId",
        "electionId",
        "logoUrl"
      ]
    },
    "Event": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Event",
      "type": "object",
      "description": "Represents a political event.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the event."
        },
        "partyId": {
          "type": "string",
          "description": "Reference to the political party hosting the event."
        },
        "title": {
          "type": "string",
          "description": "The title of the event."
        },
        "date": {
          "type": "string",
          "format": "date-time",
          "description": "The date and time of the event."
        },
        "location": {
          "type": "string",
          "description": "The location of the event."
        },
        "description": {
          "type": "string",
          "description": "A description of the event."
        }
      },
      "required": [
        "id",
        "partyId",
        "title",
        "date",
        "location"
      ]
    },
    "Election": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Election",
      "type": "object",
      "description": "Represents an election event.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the election."
        },
        "name": {
          "type": "string",
          "description": "The name of the election."
        },
        "date": {
          "type": "string",
          "description": "The date of the election.",
          "format": "date-time"
        },
        "isCurrent": {
          "type": "boolean",
          "description": "Indicates if this is the current election."
        },
        "independentLogoUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL to the logo for independent candidates for this election."
        },
        "independentExpandedLogoUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL to the expanded logo for independent candidates for this election."
        }
      },
      "required": [
        "id",
        "name",
        "date"
      ]
    },
    "PollingData": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "PollingData",
      "type": "object",
      "description": "Represents polling data for an election.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the polling data."
        },
        "electionId": {
          "type": "string",
          "description": "Reference to the election the polling data is for. (Relationship: Election 1:N PollingData)"
        },
        "constituencyId": {
          "type": "string",
          "description": "Reference to the constituency the polling data is for. (Relationship: Constituency 1:N PollingData)"
        },
        "date": {
          "type": "string",
          "description": "The date the polling data was collected.",
          "format": "date-time"
        },
        "partyVotes": {
          "type": "string",
          "description": "Votes/percentage for the party."
        },
        "sampleSize": {
          "type": "number",
          "description": "The sample size of the poll."
        }
      },
      "required": [
        "id",
        "electionId",
        "constituencyId",
        "date"
      ]
    },
    "Constituency": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Constituency",
      "type": "object",
      "description": "Represents a voting district/constituency.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the constituency."
        },
        "name": {
          "type": "string",
          "description": "The name of the constituency."
        },
        "mapCoordinates": {
          "type": "object",
          "description": "XY coordinates for the interactive map overlay.",
          "properties": {
            "top": {
              "type": "string"
            },
            "left": {
              "type": "string"
            }
          }
        },
        "demographics": {
          "type": "string",
          "description": "Demographic information about the constituency."
        },
        "politicalLeaning": {
          "type": "string",
          "description": "The political leaning of the constituency.",
          "enum": [
            "solid-slp",
            "lean-slp",
            "tossup",
            "lean-uwp",
            "solid-uwp"
          ]
        },
        "logoUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL to the constituency's logo."
        },
        "dashboardPopoverText": {
          "type": "string",
          "description": "Custom text to display in the popover on the main dashboard map."
        },
        "volatilityIndex": {
          "type": "number",
          "description": "A measure of how much the vote has swung in past elections."
        },
        "aiForecast": {
          "type": "string",
          "description": "The AI-powered forecast for the constituency.",
          "enum": ["slp", "uwp", "tossup"]
        },
        "aiConfidence": {
          "type": "string",
          "description": "The confidence level of the AI forecast.",
          "enum": ["High", "Medium", "Low"]
        }
      },
      "required": [
        "id",
        "name"
      ]
    },
    "ElectionResult": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ElectionResult",
      "type": "object",
      "description": "Represents the results of an election.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the election result."
        },
        "electionId": {
          "type": "string",
          "description": "Reference to the election. (Relationship: Election 1:N ElectionResult)"
        },
        "constituencyId": {
          "type": "string",
          "description": "Reference to the constituency. (Relationship: Constituency 1:N ElectionResult)"
        },
        "candidateId": {
          "type": "string",
          "description": "Reference to the candidate. (Relationship: Candidate 1:N ElectionResult)"
        },
        "votes": {
          "type": "number",
          "description": "The number of votes the candidate received."
        }
      },
      "required": [
        "id",
        "electionId",
        "constituencyId",
        "candidateId",
        "votes"
      ]
    },
    "PageLayouts": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Page Layouts",
      "type": "object",
      "description": "Stores user-defined layouts for specific pages.",
      "properties": {
        "constituenciesPage": {
          "type": "object",
          "properties": {
            "pageTitle": {
              "type": "string"
            },
            "pageDescription": {
              "type": "string"
            },
            "seatCountTitle": {
              "type": "string"
            },
            "seatCountDescription": {
              "type": "string"
            },
            "sections": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "sectionSpans": {
              "type": "object",
              "additionalProperties": {
                "type": "number"
              }
            },
            "showCandidateBoxes": {
              "type": "boolean",
              "description": "Whether to show candidate boxes in the constituency map popover."
            }
          }
        }
      }
    },
    "SiteSettings": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Site Settings",
      "type": "object",
      "description": "Global settings for the website.",
      "properties": {
        "mapUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL of the main constituency map image."
        },
        "defaultShareTitle": {
          "type": "string",
          "description": "Default title for social media sharing."
        },
        "defaultShareDescription": {
          "type": "string",
          "description": "Default description for social media sharing."
        }
      }
    },
    "UserActivity": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User Activity",
      "type": "object",
      "description": "Represents a user activity event.",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The ID of the authenticated user, if available."
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp of the activity."
        },
        "ipAddress": {
          "type": "string",
          "description": "The IP address of the user."
        },
        "geolocation": {
          "type": "object",
          "properties": {
            "latitude": {
              "type": "number"
            },
            "longitude": {
              "type": "number"
            }
          },
          "description": "The geolocation of the user."
        },
        "pageVisited": {
          "type": "string",
          "description": "The path of the page visited."
        }
      },
      "required": [
        "timestamp",
        "pageVisited"
      ]
    },
    "Region": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Region",
      "type": "object",
      "description": "Represents a geographical region.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the region."
        },
        "name": {
          "type": "string",
          "description": "The name of the region."
        },
        "constituencyIds": {
          "type": "array",
          "description": "A list of constituency IDs that belong to this region.",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "id",
        "name"
      ]
    },
    "UserMap": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User Map",
      "type": "object",
      "description": "A user-created prediction map.",
      "properties": {
        "id": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "mapData": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "constituencyId": {
                "type": "string"
              },
              "politicalLeaning": {
                "type": "string"
              }
            },
            "required": [
              "constituencyId",
              "politicalLeaning"
            ]
          }
        },
        "ipAddress": {
          "type": "string"
        },
        "city": {
          "type": "string"
        },
        "country": {
          "type": "string"
        }
      },
      "required": [
        "createdAt",
        "mapData"
      ]
    },
    "Ad": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Ad",
      "type": "object",
      "description": "Represents an advertisement listing.",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "imageUrl": {
          "type": "string",
          "format": "uri"
        },
        "url": {
          "type": "string",
          "format": "uri"
        },
        "priority": {
          "type": "string",
          "enum": [
            "high",
            "medium",
            "low"
          ]
        },
        "pages": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "position": {
          "type": "string",
          "enum": [
            "top",
            "bottom",
            "both"
          ]
        },
        "isActive": {
          "type": "boolean"
        },
        "revenuePerClick": {
          "type": "number",
          "description": "Expected revenue generated per click."
        },
        "publishDate": {
          "type": "string",
          "format": "date-time",
          "description": "The date the ad should start appearing."
        },
        "unpublishDate": {
          "type": "string",
          "format": "date-time",
          "description": "The date the ad should stop appearing."
        },
        "clicks": {
          "type": "number",
          "description": "The number of times the ad has been clicked."
        },
        "impressions": {
          "type": "number",
          "description": "The number of times the ad has been shown."
        }
      },
      "required": [
        "name",
        "imageUrl",
        "url",
        "priority",
        "pages",
        "position"
      ]
    },
    "NewsArticle": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "News Article",
      "type": "object",
      "description": "Represents a news article.",
      "properties": {
        "id": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "summary": {
          "type": "string"
        },
        "content": {
          "type": "string"
        },
        "source": {
          "type": "string"
        },
        "url": {
          "type": "string",
          "format": "uri"
        },
        "imageUrl": {
          "type": "string",
          "format": "uri"
        },
        "galleryImageUrls": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uri"
          }
        },
        "publishedAt": {
          "type": "string",
          "format": "date-time"
        },
        "articleDate": {
          "type": "string",
          "format": "date-time"
        },
        "author": {
          "type": "string",
          "description": "The author of the news article."
        },
        "tags": {
          "type": "array",
          "description": "Tags associated with the news article.",
          "items": {
            "type": "string"
          }
        },
        "likeCount": {
          "type": "number",
          "description": "The number of times the article has been liked."
        }
      },
      "required": [
        "title",
        "summary",
        "source",
        "url",
        "publishedAt"
      ]
    },
    "NewsArticleComment": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "News Article Comment",
      "type": "object",
      "description": "Represents a comment on a news article.",
      "properties": {
        "text": {
          "type": "string"
        },
        "author": {
          "type": "string"
        },
        "authorPhotoURL": {
          "type": "string",
          "format": "uri"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "likeCount": {
          "type": "number",
          "description": "The number of times the comment has been liked."
        },
        "replyTo": {
          "type": "string",
          "description": "The ID of the comment this is a reply to."
        }
      },
      "required": ["text", "author", "createdAt"]
    },
    "Report": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Report",
      "type": "object",
      "description": "Represents a reported comment.",
      "properties": {
        "articleId": {
          "type": "string"
        },
        "commentId": {
          "type": "string"
        },
        "commentText": {
          "type": "string"
        },
        "commentAuthor": {
          "type": "string"
        },
        "reportedAt": {
          "type": "string",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "enum": ["pending", "resolved"]
        }
      },
      "required": ["articleId", "commentId", "commentText", "commentAuthor", "reportedAt", "status"]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
    "/mailing_list_subscribers/{subscriberId}": {
      "schema": {
        "$ref": "#/entities/MailingListSubscriber"
      },
      "description": "Stores information about mailing list subscribers."
    },
    "/parties/{partyId}": {
      "schema": {
        "$ref": "#/entities/Party"
      },
      "description": "Stores information about political parties.  The `partyId` is used as the document ID."
    },
    "/party_logos/{partyLogoId}": {
      "schema": {
        "$ref": "#/entities/PartyLogo"
      },
      "description": "Stores election-specific logos for parties."
    },
    "/events/{eventId}": {
      "schema": {
        "$ref": "#/entities/Event"
      },
      "description": "Stores information about political events. The `eventId` is used as the document ID."
    },
    "/candidates/{candidateId}": {
      "schema": {
        "$ref": "#/entities/Candidate"
      },
      "description": "Stores information about candidates. The `candidateId` is used as the document ID."
    },
    "/archived_candidates/{archivedCandidateId}": {
      "schema": {
        "$ref": "#/entities/ArchivedCandidate"
      },
      "description": "Stores archived candidate data from previous election cycles. The `archivedCandidateId` is used as the document ID."
    },
    "/elections/{electionId}": {
      "schema": {
        "$ref": "#/entities/Election"
      },
      "description": "Stores information about elections. The `electionId` is used as the document ID."
    },
    "/polling_data/{pollingDataId}": {
      "schema": {
        "$ref": "#/entities/PollingData"
      },
      "description": "Stores polling data for elections. The `pollingDataId` is used as the document ID."
    },
    "/constituencies/{constituencyId}": {
      "schema": {
        "$ref": "#/entities/Constituency"
      },
      "description": "Stores information about constituencies. The `constituencyId` is used as the document ID."
    },
    "/election_results/{electionResultId}": {
      "schema": {
        "$ref": "#/entities/ElectionResult"
      },
      "description": "Stores election results. The `electionResultId` is used as the document ID."
    },
    "/settings/pageLayouts": {
      "schema": {
        "$ref": "#/entities/PageLayouts"
      },
      "description": "Stores user-defined layouts for various pages. This is a single document."
    },
    "/settings/site": {
      "schema": {
        "$ref": "#/entities/SiteSettings"
      },
      "description": "Stores global site settings. This is a single document."
    },
    "/user_activity/{activityId}": {
      "schema": {
        "$ref": "#/entities/UserActivity"
      },
      "description": "Stores user activity events, such as page visits. The `activityId` is used as the document ID."
    },
    "/regions/{regionId}": {
      "schema": {
        "$ref": "#/entities/Region"
      },
      "description": "Stores information about regions. The `regionId` is used as the document ID."
    },
    "/user_maps/{userMapId}": {
      "schema": {
        "$ref": "#/entities/UserMap"
      },
      "description": "Stores user-created prediction maps."
    },
    "/ads/{adId}": {
      "schema": {
        "$ref": "#/entities/Ad"
      },
      "description": "Stores ad listings for the website."
    },
    "/news/{newsId}": {
      "schema": {
        "$ref": "#/entities/NewsArticle"
      },
      "description": "Stores news articles for the website."
    },
    "/news/{newsId}/comments/{commentId}": {
        "schema": {
            "$ref": "#/entities/NewsArticleComment"
        },
        "description": "Stores comments for a specific news article."
    },
    "/reports/{reportId}": {
        "schema": {
            "$ref": "#/entities/Report"
        },
        "description": "Stores reported comments for moderation."
    }
  }
}
